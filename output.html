<!DOCTYPE html>
<html>
<head>
	<meta charset='utf-8'>
	<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,shrink-to-fit=no">
	<link rel='stylesheet' type='text/css' href='put.css'>
	<script src='put.js'></script>
</head>
<body>
	<h2>今日体育 Top 10</h2>
	<ul>
		<li><a href=http://2018.sina.com.cn/ target=_blank>世界杯-比利时2-1胜巴西晋级4强 </a></li>
		<li><a href=http://2018.sina.com.cn/bra/2018-07-07/doc-ihexfcvk9120726.shtml target=_blank>中超第2球!国安核心遮羞巴西</a></li>
		<li><a href=http://2018.sina.com.cn/zt_d/w49-w50/ target=_blank>世界杯-格子破门 法国2-0胜乌拉圭晋级4强</a></li>
		<li><a href=http://2018.sina.com.cn/fra/2018-07-07/doc-ihexfcvk8742052.shtml target=_blank>德尚亲破内讧谣言</a></li>
		<li><a href=http://2018.sina.com.cn/bel/2018-07-07/doc-ihexfcvk9160535.shtml target=_blank>世界杯变欧洲杯!历史第5次 </a></li>
		<li><a href=http://2018.sina.com.cn/bel/2018-07-07/doc-ihexfcvk9193908.shtml target=_blank>比利时不再内讧迎夺冠良机</a></li>
		<li><a href=http: //2018.sina.com.cn/bra/2018-07-07/doc-ihexfcvk8890700.shtml target=_blank>高晓松回应世界杯假球论:我意淫的 </a></li>
		<li><a href=http://2018.sina.com.cn/fra/2018-07-07/doc-ihexfcvk8834975.shtml target=_blank>大巴黎官宣与布冯签约</a></li>
		<li><a href=http://sports.sina.com.cn/nba/ target=_blank>夏联-周琦上双助火箭开门红 </a></li>
		<li><a href=http://sports.sina.com.cn/zt_d/wimbledon18/ target=_blank>温网-费德勒3-0胜 第16次晋级16强 </a></li>
	</ul>
	<div class="box">
		<div class="highlight" style="background: #202020"><pre style="line-height: 125%"><span style="background-color: #202020; padding: 0 5px 0 5px"> 1</span> <span style="color: #999999; font-style: italic">#coding:utf-8  #听了一些爬虫的课程，觉得比较有意思，折腾了一番，爬了一点新闻。但不明白怎么让GitHub运行python文件，只能把代码写上来了，还请大神指点</span>
<span style="background-color: #202020; padding: 0 5px 0 5px"> 2</span> <span style="color: #6ab825; font-weight: bold">import</span> <span style="color: #447fcf; text-decoration: underline">requests</span>  
<span style="background-color: #202020; padding: 0 5px 0 5px"> 3</span> <span style="color: #6ab825; font-weight: bold">import</span> <span style="color: #447fcf; text-decoration: underline">re</span>  
<span style="background-color: #202020; padding: 0 5px 0 5px"> 4</span> <span style="color: #6ab825; font-weight: bold">import</span> <span style="color: #447fcf; text-decoration: underline">chardet</span>
<span style="background-color: #202020; padding: 0 5px 0 5px"> 5</span> <span style="color: #6ab825; font-weight: bold">from</span> <span style="color: #447fcf; text-decoration: underline">bs4</span> <span style="color: #6ab825; font-weight: bold">import</span> <span style="color: #d0d0d0">BeautifulSoup</span>  
<span style="background-color: #202020; padding: 0 5px 0 5px"> 6</span> 
<span style="background-color: #202020; padding: 0 5px 0 5px"> 7</span> <span style="color: #d0d0d0">sportURL=</span><span style="color: #ed9d13">&quot;http://sports.sina.com.cn/index1.shtml&quot;</span>
<span style="background-color: #202020; padding: 0 5px 0 5px"> 8</span> <span style="color: #d0d0d0">output=</span><span style="color: #24909d">open</span><span style="color: #d0d0d0">(</span><span style="color: #ed9d13">&quot;output.html&quot;</span><span style="color: #d0d0d0">,</span><span style="color: #ed9d13">&quot;w&quot;</span><span style="color: #d0d0d0">,encoding=</span><span style="color: #ed9d13">&#39;utf-8&#39;</span><span style="color: #d0d0d0">)</span>
<span style="background-color: #202020; padding: 0 5px 0 5px"> 9</span> <span style="color: #d0d0d0">output.write(</span><span style="color: #ed9d13">&quot;&lt;!DOCTYPE html&gt;&quot;</span><span style="color: #d0d0d0">)</span><span style="color: #999999; font-style: italic">#设置输出的html文件的格式</span>
<span style="background-color: #202020; padding: 0 5px 0 5px">10</span> <span style="color: #d0d0d0">output.write(</span><span style="color: #ed9d13">&quot;&lt;html&gt;&quot;</span><span style="color: #d0d0d0">)</span>
<span style="background-color: #202020; padding: 0 5px 0 5px">11</span> <span style="color: #d0d0d0">output.write(</span><span style="color: #ed9d13">&quot;&lt;head&gt;&quot;</span><span style="color: #d0d0d0">)</span>
<span style="background-color: #202020; padding: 0 5px 0 5px">12</span> <span style="color: #d0d0d0">output.write(</span><span style="color: #ed9d13">&quot;&lt;meta charset=\&#39;utf-8\&#39;&gt;&quot;</span><span style="color: #d0d0d0">)</span>
<span style="background-color: #202020; padding: 0 5px 0 5px">13</span> <span style="color: #d0d0d0">output.write(</span><span style="color: #ed9d13">&quot;&lt;link rel=&#39;stylesheet&#39; type=&#39;text/css&#39; href=&#39;put.css&#39;&gt;&quot;</span><span style="color: #d0d0d0">)</span>
<span style="background-color: #202020; padding: 0 5px 0 5px">14</span> <span style="color: #d0d0d0">output.write(</span><span style="color: #ed9d13">&quot;&lt;script src=&#39;put.js&#39;&gt;&lt;/script&gt;&quot;</span><span style="color: #d0d0d0">)</span>
<span style="background-color: #202020; padding: 0 5px 0 5px">15</span> 
<span style="background-color: #202020; padding: 0 5px 0 5px">16</span> <span style="color: #d0d0d0">output.write(</span><span style="color: #ed9d13">&quot;&lt;/head&gt;&quot;</span><span style="color: #d0d0d0">)</span>
<span style="background-color: #202020; padding: 0 5px 0 5px">17</span> <span style="color: #d0d0d0">output.write(</span><span style="color: #ed9d13">&quot;&lt;body&gt;&quot;</span><span style="color: #d0d0d0">)</span>
<span style="background-color: #202020; padding: 0 5px 0 5px">18</span> <span style="color: #24909d">str</span><span style="color: #d0d0d0">=</span><span style="color: #ed9d13">&quot;今日体育 Top 10&quot;</span><span style="color: #d0d0d0">.encode(</span><span style="color: #ed9d13">&#39;utf-8&#39;</span><span style="color: #d0d0d0">).decode(</span><span style="color: #ed9d13">&#39;utf-8&#39;</span><span style="color: #d0d0d0">)</span>
<span style="background-color: #202020; padding: 0 5px 0 5px">19</span> <span style="color: #d0d0d0">output.write(</span><span style="color: #ed9d13">&quot;&lt;h2&gt;%s&lt;/h2&gt;&quot;</span><span style="color: #d0d0d0">%(</span><span style="color: #24909d">str</span><span style="color: #d0d0d0">))</span>
<span style="background-color: #202020; padding: 0 5px 0 5px">20</span> <span style="color: #d0d0d0">output.write(</span><span style="color: #ed9d13">&quot;&lt;ul&gt;&quot;</span><span style="color: #d0d0d0">)</span>
<span style="background-color: #202020; padding: 0 5px 0 5px">21</span> 
<span style="background-color: #202020; padding: 0 5px 0 5px">22</span> 
<span style="background-color: #202020; padding: 0 5px 0 5px">23</span> <span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">getNews</span><span style="color: #d0d0d0">(url):</span>
<span style="background-color: #202020; padding: 0 5px 0 5px">24</span> 	<span style="color: #d0d0d0">res=requests.get(url)</span>
<span style="background-color: #202020; padding: 0 5px 0 5px">25</span> 	<span style="color: #d0d0d0">res.encoding=</span><span style="color: #ed9d13">&#39;utf-8&#39;</span>
<span style="background-color: #202020; padding: 0 5px 0 5px">26</span> 	<span style="color: #d0d0d0">soup=BeautifulSoup(res.text,</span><span style="color: #ed9d13">&#39;html.parser&#39;</span><span style="color: #d0d0d0">)</span>
<span style="background-color: #202020; padding: 0 5px 0 5px">27</span> 	<span style="color: #d0d0d0">infos=soup.select(</span><span style="color: #ed9d13">&#39;.ty-card-link-em&#39;</span><span style="color: #d0d0d0">)</span>
<span style="background-color: #202020; padding: 0 5px 0 5px">28</span> 	<span style="color: #999999; font-style: italic">#totalNews=[]</span>
<span style="background-color: #202020; padding: 0 5px 0 5px">29</span> 	<span style="color: #6ab825; font-weight: bold">for</span> <span style="color: #d0d0d0">info</span> <span style="color: #6ab825; font-weight: bold">in</span> <span style="color: #d0d0d0">infos:</span>
<span style="background-color: #202020; padding: 0 5px 0 5px">30</span> 		<span style="color: #d0d0d0">news={}</span>
<span style="background-color: #202020; padding: 0 5px 0 5px">31</span> 		<span style="color: #d0d0d0">news[</span><span style="color: #ed9d13">&#39;href&#39;</span><span style="color: #d0d0d0">]=</span><span style="color: #ed9d13">&quot;http:&quot;</span><span style="color: #d0d0d0">+info[</span><span style="color: #ed9d13">&#39;href&#39;</span><span style="color: #d0d0d0">]</span>
<span style="background-color: #202020; padding: 0 5px 0 5px">32</span> 		<span style="color: #d0d0d0">news[</span><span style="color: #ed9d13">&#39;title&#39;</span><span style="color: #d0d0d0">]=info.text</span>
<span style="background-color: #202020; padding: 0 5px 0 5px">33</span> 		<span style="color: #d0d0d0">output.write(</span><span style="color: #ed9d13">&quot;&lt;li&gt;&lt;a href=%s target=%s&gt;%s&lt;/a&gt;&lt;/li&gt;&quot;</span> <span style="color: #d0d0d0">%(news[</span><span style="color: #ed9d13">&#39;href&#39;</span><span style="color: #d0d0d0">],</span><span style="color: #ed9d13">&quot;_blank&quot;</span><span style="color: #d0d0d0">,news[</span><span style="color: #ed9d13">&#39;title&#39;</span><span style="color: #d0d0d0">].encode(</span><span style="color: #ed9d13">&#39;utf-8&#39;</span><span style="color: #d0d0d0">).decode(</span><span style="color: #ed9d13">&#39;utf-8&#39;</span><span style="color: #d0d0d0">)))</span>
<span style="background-color: #202020; padding: 0 5px 0 5px">34</span> <span style="color: #d0d0d0">getNews(sportURL)</span>
<span style="background-color: #202020; padding: 0 5px 0 5px">35</span> <span style="color: #d0d0d0">output.write(</span><span style="color: #ed9d13">&quot;&lt;/ul&gt;&quot;</span><span style="color: #d0d0d0">)</span>
<span style="background-color: #202020; padding: 0 5px 0 5px">36</span> <span style="color: #d0d0d0">output.write(</span><span style="color: #ed9d13">&quot;&lt;/body&gt;&quot;</span><span style="color: #d0d0d0">)</span>
<span style="background-color: #202020; padding: 0 5px 0 5px">37</span> <span style="color: #d0d0d0">output.write(</span><span style="color: #ed9d13">&quot;&lt;/html&gt;&quot;</span><span style="color: #d0d0d0">)</span>
<span style="background-color: #202020; padding: 0 5px 0 5px">38</span> <span style="color: #6ab825; font-weight: bold">import</span> <span style="color: #447fcf; text-decoration: underline">webbrowser</span>
<span style="background-color: #202020; padding: 0 5px 0 5px">39</span> <span style="color: #d0d0d0">webbrowser.open(</span><span style="color: #ed9d13">&quot;output.html&quot;</span><span style="color: #d0d0d0">)</span>
</pre></div>

	</div>
</body>
</html>
